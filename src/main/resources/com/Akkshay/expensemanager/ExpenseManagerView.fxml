<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="650.0" prefWidth="1100.0"
            style="-fx-background-color: linear-gradient(to bottom right, #e0eafc 0%, #cfdef3 100%);"
            xmlns="http://javafx.com/javafx/19"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.Akkshay.expensemanager.controller.ExpenseManagerController">
    <left>
        <VBox spacing="18.0"
              alignment="CENTER"
              style="-fx-background-color: linear-gradient(to bottom, #283e51, #485563); -fx-border-radius: 18; -fx-background-radius: 18;"
              BorderPane.alignment="CENTER">
            <padding>
                <Insets top="30.0" right="20.0" bottom="30.0" left="28.0"/>
            </padding>
            <Label text="Add New Expense" style="-fx-text-fill: #fff; -fx-font-size: 28pt; -fx-font-family: 'Segoe UI Semibold';">
                <font>
                    <Font name="Segoe UI Semibold" size="28.0" />
                </font>
            </Label>
            <GridPane hgap="10.0" vgap="18.0" alignment="CENTER"
                      style="-fx-padding: 0 8;">
                <Label text="Description:" style="-fx-text-fill: #fbd786; -fx-font-size: 16pt;" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                <TextField fx:id="descriptionField" promptText="e.g., Coffee"
                           style="-fx-background-radius: 12; -fx-font-size: 15pt; -fx-padding: 8 14; -fx-background-color: #fff;" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                <Label text="Amount:" style="-fx-text-fill: #fbd786; -fx-font-size: 16pt;" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                <TextField fx:id="amountField" promptText="e.g., 150.50"
                           style="-fx-background-radius: 12; -fx-font-size: 15pt; -fx-padding: 8 14; -fx-background-color: #fff;" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                <Label text="Date:" style="-fx-text-fill: #fbd786; -fx-font-size: 16pt;" GridPane.rowIndex="2" GridPane.columnIndex="0" />
                <DatePicker fx:id="datePicker"
                            style="-fx-background-radius: 12; -fx-font-size: 15pt; -fx-background-color: #fff;" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                <Label text="Category:" style="-fx-text-fill: #fbd786; -fx-font-size: 16pt;" GridPane.rowIndex="3" GridPane.columnIndex="0" />
                <ComboBox fx:id="categoryComboBox" promptText="Select Category" prefWidth="175.0"
                          style="-fx-background-radius: 12; -fx-font-size: 15pt; -fx-background-color: #fff;" GridPane.columnIndex="1" GridPane.rowIndex="3" />
            </GridPane>
            <HBox spacing="14.0" alignment="CENTER">
                <Button onAction="#handleAddExpense" text="Add Expense"
                        style="-fx-background-color: linear-gradient(to right, #43cea2, #185a9d); -fx-text-fill: white; -fx-font-size: 15pt; -fx-background-radius: 20; -fx-effect: dropshadow(gaussian, #222, 5,0,0,2); -fx-padding: 8 22;" />
                <Button onAction="#handleDeleteExpense" text="Delete Selected"
                        style="-fx-background-color: linear-gradient(to right, #ff5858, #f09819); -fx-text-fill: white; -fx-font-size: 15pt; -fx-background-radius: 20; -fx-effect: dropshadow(gaussian, #222, 5,0,0,2); -fx-padding: 8 22;" />
                <Button onAction="#handleClearForm" text="Clear"
                        style="-fx-background-color: linear-gradient(to right, #56CCF2, #2F80ED); -fx-text-fill: white; -fx-font-size: 15pt; -fx-background-radius: 20; -fx-effect: dropshadow(gaussian, #222, 5,0,0,2); -fx-padding: 8 22;" />
            </HBox>
            <Label fx:id="statusLabel"
                   style="-fx-text-fill: #e2e8f0; -fx-font-size: 16pt; -fx-padding: 8 0 0 0;" />
        </VBox>
    </left>
    <center>
        <VBox spacing="18.0" alignment="CENTER" BorderPane.alignment="CENTER">
            <padding>
                <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
            </padding>
            <Label text="Expense History" style="-fx-font-size: 22pt; -fx-font-family: 'Segoe UI Bold'; -fx-text-fill: #242424;" />
            <TableView fx:id="expenseTable" prefHeight="240.0" VBox.vgrow="ALWAYS"
                       style="-fx-font-size: 15pt; -fx-background-radius: 10; -fx-table-cell-border-color: #805ad5; -fx-padding: 8 8;">
                <columns>
                    <TableColumn fx:id="descriptionColumn" prefWidth="200.0" text="Description" />
                    <TableColumn fx:id="amountColumn" prefWidth="100.0" text="Amount" />
                    <TableColumn fx:id="dateColumn" prefWidth="120.0" text="Date" />
                    <TableColumn fx:id="categoryColumn" prefWidth="150.0" text="Category" />
                </columns>
            </TableView>
            <Label text="Expense Trends" style="-fx-font-size: 22pt; -fx-font-family: 'Segoe UI Bold'; -fx-text-fill: #242424;" />
            <PieChart fx:id="expensePieChart" title="Expenses by Category"
                      style="-fx-font-size: 17pt; -fx-background-radius: 12;" />
        </VBox>
    </center>
</BorderPane>
